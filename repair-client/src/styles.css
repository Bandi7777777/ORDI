@import "tailwindcss";
@import "./design-tokens/css-variables.css";

/* ===== Theme (Dark glass + subtle neon) ===== */
:root{
  --bg-1:#0c1118; --bg-2:#0b1016;
  --fg-1:#eaf1ff; --fg-2:#97a7c0;

  --c-cyan:#48e4ff; --c-mint:#2be5b9; --c-violet:#a18bff; --c-pink:#ff79c6;

  --panel:rgba(16,22,34,.78);
  --line:rgba(210,225,255,.14);
  --glass-1:rgba(16,22,34,.86);
  --glass-2:rgba(16,22,34,.60);
  --shadow:0 22px 70px rgba(3,10,24,.45);

  --r2:12px; --r3:16px;
}

/* ===== Page shell ===== */
html,body,#root{height:100%}
body{
  color:var(--fg-1);
  background:
    radial-gradient(1200px 700px at 85% -10%, color-mix(in oklab, var(--c-cyan) 12%, transparent), transparent 55%),
    radial-gradient(1200px 700px at -12% 40%, color-mix(in oklab, var(--c-violet) 10%, transparent), transparent 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.shell{ max-width: 1280px; margin-inline:auto; padding-inline: 20px; }

/* ===== Header (wave) ===== */
@keyframes waveShift {0%{transform:translateX(0) translateY(0)}50%{transform:translateX(2%) translateY(2px)}100%{transform:translateX(-2%) translateY(0)}}
.header{ position:sticky; top:0; z-index:30; border-bottom:1px solid var(--line);
  background: linear-gradient(180deg, var(--glass-1), var(--glass-2)); backdrop-filter: blur(12px); box-shadow: var(--shadow); overflow: visible; }
.header::after{
  content:""; position:absolute; inset:auto -10% -1px -10%; height:64px;
  background:
    radial-gradient(80px 40px at 15% 70%, color-mix(in oklab, var(--c-mint) 40%, transparent), transparent 70%),
    radial-gradient(90px 45px at 40% 30%, color-mix(in oklab, var(--c-violet) 40%, transparent), transparent 70%),
    radial-gradient(100px 50px at 75% 60%, color-mix(in oklab, var(--c-cyan) 40%, transparent), transparent 70%);
  clip-path: polygon(0 42%,10% 50%,20% 45%,30% 55%,40% 50%,50% 58%,60% 52%,70% 60%,80% 55%,90% 62%,100% 58%,100% 100%,0 100%);
  animation: waveShift 14s ease-in-out infinite alternate; pointer-events: none;
}
.header .brand,.header nav{ position: relative; z-index: 1; }
.brand{ width:42px; height:42px; border-radius: var(--r2); display:grid; place-items:center; font-weight:900; color:#032028;
  background: conic-gradient(from 220deg, var(--c-cyan), var(--c-mint), var(--c-cyan));
  box-shadow: 0 10px 26px color-mix(in oklab, var(--c-cyan) 28%, transparent); }
.navlink{ display:inline-flex; align-items:center; gap:.5rem; padding:.6rem .9rem; border-radius:12px; color:var(--fg-2); transition: background .25s, color .25s; }
.navlink.underline{ color:var(--fg-1); background: color-mix(in oklab, var(--c-cyan) 12%, transparent); }

/* ===== Card / Buttons / Inputs ===== */
.card{ position:relative; overflow:visible; border-radius: var(--r3); background: var(--panel); border:1px solid var(--line); box-shadow: var(--shadow); }
.btn{display:inline-flex;align-items:center;justify-content:center; padding:.72rem 1rem; border-radius: var(--r2); font-weight:700; transition: filter .2s, box-shadow .2s, transform .12s}
.btn:active{ transform: translateY(1px); }
.btn-primary{ color:#041019; background: linear-gradient(90deg, var(--c-cyan), var(--c-mint)); box-shadow: 0 12px 28px color-mix(in oklab, var(--c-cyan) 18%, transparent) }
.btn-ghost{ background: transparent; color: var(--fg-2); border:1px solid var(--line) }
.btn-tone{ background: color-mix(in oklab, var(--c-cyan) 6%, transparent); border:1px solid var(--line); color:var(--fg-1) }

.input,.select,.textarea{
  width:100%; border-radius: 14px;
  background: rgba(255,255,255,.06); color: var(--fg-1);
  border:1px solid var(--line); padding:.78rem 1rem; outline:none;
  transition: box-shadow .2s, border-color .2s, background .2s;
}
.input:focus,.select:focus,.textarea:focus{ border-color: var(--c-cyan); box-shadow: 0 0 0 3px color-mix(in oklab, var(--c-cyan) 22%, transparent); }
.select option{ color:#eaf3ff; background:#0f172a; }

/* ===== Select-portal ===== */
.select-portal{ position:fixed; z-index:1000; backdrop-filter: blur(10px); }

/* ===== Table (no overflow, tidy cell spacing) ===== */
.table{ width:100%; table-layout: fixed; color:var(--fg-1); border-collapse:separate; border-spacing:0; }
.table thead th{ text-align:right; padding:.72rem .9rem; font-weight:800; background: rgba(255,255,255,.06); border-bottom:1px solid var(--line); position: sticky; top: 0; z-index: 1; }
.table td{ padding:.68rem .9rem; border-bottom:1px solid rgba(255,255,255,.1); vertical-align: middle; }
.table tr:hover td{ background: rgba(72,228,255,.06); }

/* متن‌های بلند */
.cell-ellipsis{ max-width: 220px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: inline-block; vertical-align: bottom; }
.cell-2line{ max-width: 320px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height:1.5; }

/* ===== Timeline chips (Receive / Complete / Deliver) ===== */
.chip{display:inline-flex;align-items:center;gap:.42rem;padding:.34rem .64rem;border-radius:999px;border:1px solid var(--line);font-size:.82rem;background:rgba(255,255,255,.05)}
.chip svg{opacity:.85}
.chip--cyan{  border-color: color-mix(in oklab, var(--c-cyan) 42%, transparent);   background: color-mix(in oklab, var(--c-cyan) 10%, transparent) }
.chip--violet{border-color: color-mix(in oklab, var(--c-violet) 46%, transparent); background: color-mix(in oklab, var(--c-violet) 10%, transparent) }
.chip--mint{  border-color: color-mix(in oklab, var(--c-mint) 42%, transparent);   background: color-mix(in oklab, var(--c-mint)  9%, transparent) }

/* ===== DateRange (Toolbar) ===== */
.datebox{ background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px dashed var(--line); border-radius:16px; padding:.55rem .75rem; }
.seg{ display:inline-flex; gap:4px; padding:4px; border-radius:999px; background:rgba(255,255,255,.06); border:1px solid var(--line); }
.seg-btn{ padding:.42rem .9rem; border-radius:999px; color:var(--fg-2); }
.seg-btn.active{ color:var(--fg-1); background: color-mix(in oklab, var(--c-cyan) 14%, transparent); }
.datebox .input,.datebox .select{ padding:.62rem .8rem; }

/* ===== Dashboard tiles ===== */
.tiles{ display:grid; grid-template-columns: repeat(1,minmax(0,1fr)); gap:1rem; }
@media (min-width: 768px){ .tiles{ grid-template-columns: repeat(3,minmax(0,1fr)); } }
.tile{ padding:1rem; border-radius:16px; border:1px solid var(--line); background:rgba(255,255,255,.04); box-shadow: var(--shadow); }
.tile .k{ font-size:.82rem; opacity:.85; }
.tile .v{ font-size:1.8rem; font-weight:800; }
.input,.select,.textarea{ padding:.72rem 1rem; border-radius:14px; }
.select-portal{ position:fixed; z-index:1000; }
.shell{ max-width:1280px; margin-inline:auto; padding-inline:20px; }
@keyframes slideIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-slideIn { animation: slideIn 200ms ease-out both; }
.toolbar-pro { border-radius: 16px; }
/* Toolbar shell (کمی لطیف‌تر) */
.toolbar-pro { border-radius: 16px; }

/* فاصلهٔ امن در ورودی‌ها و سلکت‌ها */
.input, .select { padding: .72rem 1rem; border-radius: 14px; }

/* پاپ‌اور سلکت همیشه روی همه‌چیز */
.select-popover, .select-portal { position: fixed; z-index: 1000; }
